{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\covid19\\\\client\\\\src\\\\components\\\\Session\\\\withAuthentication.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { firebase } from '../../../firebase';\n\nvar withAuthentication = function withAuthentication(Component) {\n  var WithAuthentication = /*#__PURE__*/function (_React$Component) {\n    _inherits(WithAuthentication, _React$Component);\n\n    var _super = _createSuper(WithAuthentication);\n\n    function WithAuthentication() {\n      _classCallCheck(this, WithAuthentication);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(WithAuthentication, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var onSetAuthUser = this.props.onSetAuthUser;\n        firebase.auth.onAuthStateChanged(function (authUser) {\n          authUser ? onSetAuthUser(authUser) : onSetAuthUser(null);\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return __jsx(Component, _extends({}, this.props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 9\n          }\n        }));\n      }\n    }]);\n\n    return WithAuthentication;\n  }(React.Component);\n\n  var mapDispatchToProps = function mapDispatchToProps(dispatch) {\n    return {\n      onSetAuthUser: function onSetAuthUser(authUser) {\n        return dispatch({\n          type: 'AUTH_USER_SET',\n          authUser: authUser\n        });\n      }\n    };\n  };\n\n  return connect(null, mapDispatchToProps)(WithAuthentication);\n};\n\nexport default withAuthentication;","map":{"version":3,"sources":["C:/covid19/client/src/components/Session/withAuthentication.js"],"names":["React","connect","firebase","withAuthentication","Component","WithAuthentication","onSetAuthUser","props","auth","onAuthStateChanged","authUser","mapDispatchToProps","dispatch","type"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAASC,QAAT,QAAyB,mBAAzB;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,SAAD,EAAe;AAAA,MAClCC,kBADkC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,0CAElB;AAAA,YACVC,aADU,GACQ,KAAKC,KADb,CACVD,aADU;AAGlBJ,QAAAA,QAAQ,CAACM,IAAT,CAAcC,kBAAd,CAAiC,UAAAC,QAAQ,EAAI;AAC3CA,UAAAA,QAAQ,GACJJ,aAAa,CAACI,QAAD,CADT,GAEJJ,aAAa,CAAC,IAAD,CAFjB;AAGD,SAJD;AAKD;AAVqC;AAAA;AAAA,+BAY7B;AACP,eACE,MAAC,SAAD,eAAgB,KAAKC,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAGD;AAhBqC;;AAAA;AAAA,IACPP,KAAK,CAACI,SADC;;AAmBxC,MAAMO,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD;AAAA,WAAe;AACxCN,MAAAA,aAAa,EAAE,uBAACI,QAAD;AAAA,eAAcE,QAAQ,CAAC;AAAEC,UAAAA,IAAI,EAAE,eAAR;AAAyBH,UAAAA,QAAQ,EAARA;AAAzB,SAAD,CAAtB;AAAA;AADyB,KAAf;AAAA,GAA3B;;AAIA,SAAOT,OAAO,CAAC,IAAD,EAAOU,kBAAP,CAAP,CAAkCN,kBAAlC,CAAP;AACD,CAxBD;;AA0BA,eAAeF,kBAAf","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { firebase } from '../../../firebase';\r\n\r\nconst withAuthentication = (Component) => {\r\n  class WithAuthentication extends React.Component {\r\n    componentDidMount() {\r\n      const { onSetAuthUser } = this.props;\r\n\r\n      firebase.auth.onAuthStateChanged(authUser => {\r\n        authUser\r\n          ? onSetAuthUser(authUser)\r\n          : onSetAuthUser(null);\r\n      });\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <Component { ...this.props } />\r\n      );\r\n    }\r\n  }\r\n\r\n  const mapDispatchToProps = (dispatch) => ({\r\n    onSetAuthUser: (authUser) => dispatch({ type: 'AUTH_USER_SET', authUser }),\r\n  });\r\n\r\n  return connect(null, mapDispatchToProps)(WithAuthentication);\r\n}\r\n\r\nexport default withAuthentication;\r\n"]},"metadata":{},"sourceType":"module"}