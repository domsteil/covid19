{"ast":null,"code":"var _jsxFileName = \"C:\\\\covid19\\\\client\\\\src\\\\components\\\\cases\\\\ExportCases.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useContext } from 'react';\nimport TextInput from 'evergreen-ui/commonjs/text-input/src/TextInput';\nimport Button from 'evergreen-ui/commonjs/buttons/src/Button';\nimport SideSheet from 'evergreen-ui/commonjs/side-sheet/src/SideSheet';\nimport Paragraph from 'evergreen-ui/commonjs/typography/src/Paragraph';\nimport Card from 'evergreen-ui/commonjs/layers/src/Card';\nimport Heading from 'evergreen-ui/commonjs/typography/src/Heading';\nimport Pane from 'evergreen-ui/commonjs/layers/src/Pane';\nimport IconButton from 'evergreen-ui/commonjs/buttons/src/IconButton';\nimport Textarea from 'evergreen-ui/commonjs/textarea/src/Textarea';\nimport Tablist from 'evergreen-ui/commonjs/tabs/src/Tablist';\nimport Tab from 'evergreen-ui/commonjs/tabs/src/Tab';\nimport Component from '@reach/component-component';\nimport CornerDialog from 'evergreen-ui/commonjs/corner-dialog/src/CornerDialog';\nimport toaster from 'evergreen-ui/commonjs/toaster/src';\nimport OrganizationContext from '../OrganizationContext';\nexport default (() => {\n  const {\n    0: status,\n    1: setStatus\n  } = useState({\n    submitted: false,\n    submitting: false,\n    info: {\n      error: false,\n      msg: null\n    }\n  });\n  const {\n    0: inputs,\n    1: setInputs\n  } = useState({\n    email: '',\n    message: ''\n  });\n\n  const handleResponse = (status, msg) => {\n    if (status === 200) {\n      setStatus({\n        submitted: true,\n        submitting: false,\n        info: {\n          error: false,\n          msg: msg\n        }\n      });\n      setInputs({\n        email: '',\n        message: ''\n      });\n    } else {\n      setStatus({\n        info: {\n          error: true,\n          msg: msg\n        }\n      });\n    }\n  };\n\n  const handleOnChange = e => {\n    e.persist();\n    setInputs(prev => _objectSpread({}, prev, {\n      [e.target.id]: e.target.value\n    }));\n    setStatus({\n      submitted: false,\n      submitting: false,\n      info: {\n        error: false,\n        msg: null\n      }\n    });\n  };\n\n  const handleOnSubmit = async e => {\n    setStatus(prevStatus => _objectSpread({}, prevStatus, {\n      submitting: true\n    }));\n    const res = await fetch('/api/exportCases', {\n      method: 'GET',\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"POST,GET,OPTIONS, PUT, DELETE\",\n        \"Accept-Encoding\": \"gzip, deflate\",\n        // \"Authorization\": \"01-448dbac9-8c42df723645738886cdb3ce06f89e7af1d66517\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n  };\n\n  return __jsx(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, __jsx(Component, {\n    initialState: {\n      isShown: false\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, ({\n    state,\n    setState\n  }) => __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, __jsx(CornerDialog, {\n    title: \"Export Cases\",\n    isShown: state.isShown,\n    confirmLabel: \"Export\",\n    onCancel: () => setState({\n      isShown: false\n    }),\n    onCloseComplete: handleOnSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, status.info.error && __jsx(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Error: \", status.info.msg), !status.info.error && status.info.msg && __jsx(\"div\", {\n    className: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, status.info.msg)), __jsx(Button, {\n    marginBottom: 17,\n    iconBefore: \"feed\",\n    onClick: () => setState({\n      isShown: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"Export Cases\"))));\n});","map":{"version":3,"sources":["C:/covid19/client/src/components/cases/ExportCases.js"],"names":["React","useState","useContext","TextInput","Button","SideSheet","Paragraph","Card","Heading","Pane","IconButton","Textarea","Tablist","Tab","Component","CornerDialog","toaster","OrganizationContext","status","setStatus","submitted","submitting","info","error","msg","inputs","setInputs","email","message","handleResponse","handleOnChange","e","persist","prev","target","id","value","handleOnSubmit","prevStatus","res","fetch","method","headers","isShown","state","setState"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react'\r\nimport TextInput from 'evergreen-ui/commonjs/text-input/src/TextInput';\r\nimport Button from 'evergreen-ui/commonjs/buttons/src/Button';\r\nimport SideSheet from 'evergreen-ui/commonjs/side-sheet/src/SideSheet'\r\nimport Paragraph from 'evergreen-ui/commonjs/typography/src/Paragraph'\r\nimport Card from 'evergreen-ui/commonjs/layers/src/Card'\r\nimport Heading from 'evergreen-ui/commonjs/typography/src/Heading'\r\nimport Pane from 'evergreen-ui/commonjs/layers/src/Pane'\r\nimport IconButton from 'evergreen-ui/commonjs/buttons/src/IconButton'\r\nimport Textarea from 'evergreen-ui/commonjs/textarea/src/Textarea';\r\nimport Tablist from 'evergreen-ui/commonjs/tabs/src/Tablist'\r\nimport Tab from 'evergreen-ui/commonjs/tabs/src/Tab'\r\nimport Component from '@reach/component-component';\r\nimport CornerDialog from 'evergreen-ui/commonjs/corner-dialog/src/CornerDialog'\r\nimport toaster from 'evergreen-ui/commonjs/toaster/src'\r\nimport OrganizationContext from '../OrganizationContext';\r\n\r\nexport default () => {\r\n  const [status, setStatus] = useState({\r\n    submitted: false,\r\n    submitting: false,\r\n    info: { error: false, msg: null }\r\n  })\r\n\r\n  const [inputs, setInputs] = useState({\r\n    email: '',\r\n    message: ''\r\n  })\r\n\r\n  const handleResponse = (status, msg) => {\r\n    if (status === 200) {\r\n      setStatus({\r\n        submitted: true,\r\n        submitting: false,\r\n        info: { error: false, msg: msg }\r\n      })\r\n      setInputs({\r\n        email: '',\r\n        message: ''\r\n      })\r\n    } else {\r\n      setStatus({\r\n        info: { error: true, msg: msg }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleOnChange = e => {\r\n    e.persist()\r\n    setInputs(prev => ({\r\n      ...prev,\r\n      [e.target.id]: e.target.value\r\n    }))\r\n    setStatus({\r\n      submitted: false,\r\n      submitting: false,\r\n      info: { error: false, msg: null }\r\n    })\r\n  }\r\n\r\n  const handleOnSubmit = async e => {\r\n    setStatus(prevStatus => ({ ...prevStatus, submitting: true }))\r\n    const res = await fetch('/api/exportCases', {\r\n      method: 'GET',\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        \"Access-Control-Allow-Methods\": \"POST,GET,OPTIONS, PUT, DELETE\",\r\n        \"Accept-Encoding\": \"gzip, deflate\",\r\n        // \"Authorization\": \"01-448dbac9-8c42df723645738886cdb3ce06f89e7af1d66517\",\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <main>\r\n        <Component initialState={{ isShown: false }}>\r\n            {({ state, setState }) => (\r\n    <React.Fragment>\r\n      <CornerDialog\r\n        title=\"Export Cases\"\r\n        isShown={state.isShown}\r\n        confirmLabel=\"Export\"\r\n        onCancel={() => setState({ isShown: false })}\r\n        onCloseComplete={handleOnSubmit}\r\n      >\r\n      {status.info.error && (\r\n        <div className=\"error\">Error: {status.info.msg}</div>\r\n      )}\r\n      {!status.info.error && status.info.msg && (\r\n        <div className=\"success\">{status.info.msg}</div>\r\n      )}\r\n      </CornerDialog>\r\n      <Button marginBottom={17} iconBefore=\"feed\" onClick={() => setState({ isShown: true })}>\r\n        Export Cases\r\n      </Button>\r\n    </React.Fragment>\r\n  )}\r\n</Component>\r\n    </main>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}