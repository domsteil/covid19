!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react-spring"),require("react")):"function"==typeof define&&define.amd?define(["exports","react-spring","react"],n):n(t.ReactSpringAddons={},t.ReactSpring,t.React)}(this,function(t,g,_){"use strict";function i(t,n){t.prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n}_=_&&_.hasOwnProperty("default")?_.default:_;var u=4,c=1e-7,l=10,r="function"==typeof Float32Array;function o(t,n){return 1-3*n+3*t}function a(t,n){return 3*n-6*t}function s(t){return 3*t}function f(t,n,e){return((o(n,e)*t+a(n,e))*t+s(n))*t}function h(t,n,e){return 3*o(n,e)*t*t+2*a(n,e)*t+s(n)}function d(o,n,a,e){if(!(0<=o&&o<=1&&0<=a&&a<=1))throw new Error("bezier x values must be in [0, 1] range");var s=r?new Float32Array(11):new Array(11);if(o!==n||a!==e)for(var t=0;t<11;++t)s[t]=f(.1*t,o,a);function i(t){for(var n=0,e=1;10!==e&&s[e]<=t;++e)n+=.1;var i=n+.1*((t-s[--e])/(s[e+1]-s[e])),r=h(i,o,a);return.001<=r?function(t,n,e,i){for(var r=0;r<u;++r){var o=h(n,e,i);if(0===o)return n;n-=(f(n,e,i)-t)/o}return n}(t,i,o,a):0===r?i:function(t,n,e,i,r){for(var o,a,s=0;0<(o=f(a=n+(e-n)/2,i,r)-t)?e=a:n=a,Math.abs(o)>c&&++s<l;);return a}(t,n,n+.1,o,a)}return function(t){return o===n&&a===e?t:0===t?0:1===t?1:f(i(t),n,e)}}var n=function(){function t(){}return t.step0=function(t){return 0<t?1:0},t.step1=function(t){return 1<=t?1:0},t.linear=function(t){return t},t.ease=function(t){return e(t)},t.quad=function(t){return t*t},t.cubic=function(t){return t*t*t},t.poly=function(n){return function(t){return Math.pow(t,n)}},t.sin=function(t){return 1-Math.cos(t*Math.PI/2)},t.circle=function(t){return 1-Math.sqrt(1-t*t)},t.exp=function(t){return Math.pow(2,10*(t-1))},t.elastic=function(t){void 0===t&&(t=1);var n=t*Math.PI;return function(t){return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*n)}},t.back=function(n){return void 0===n&&(n=1.70158),function(t){return t*t*((n+1)*t-n)}},t.bounce=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bezier=function(t,n,e,i){return d(t,n,e,i)},t.in=function(t){return t},t.out=function(n){return function(t){return 1-n(1-t)}},t.inOut=function(n){return function(t){return t<.5?n(2*t)/2:1-n(2*(1-t))/2}},t}(),e=n.bezier(.42,0,1,1),p=n.inOut(n.ease),m=function(e){function t(t){var n;return(n=e.call(this)||this).startAsync=function(){0===n._duration?(n._onUpdate(n._to),n.__debouncedOnEnd({finished:!0})):(n._startTime=Date.now(),n._animationFrame=g.Globals.requestFrame(n.onUpdate))},n.onUpdate=function(){var t=Date.now();if(t>=n._startTime+n._duration)return n._onUpdate(0===n._duration?n._to:n._fromValue+n._easing(1)*(n._to-n._fromValue)),void n.__debouncedOnEnd({finished:!0});n._onUpdate(n._fromValue+n._easing((t-n._startTime)/n._duration)*(n._to-n._fromValue)),n.__active&&(n._animationFrame=g.Globals.requestFrame(n.onUpdate))},n._to=t.to,n._easing=void 0!==t.easing?t.easing:p,n._duration=void 0!==t.duration?t.duration:500,n._delay=void 0!==t.delay?t.delay:0,n}i(t,e);var n=t.prototype;return n.start=function(t,n,e){this.__active=!0,this._fromValue=t,this._onUpdate=n,this.__onEnd=e,0<this._delay?(this._timer&&(clearTimeout(this._timer),this._timer=void 0),this._timer=setTimeout(this.startAsync,this._delay)):this.startAsync()},n.stop=function(){this.__active=!1,clearTimeout(this._timer),this._timer=void 0,g.Globals.cancelFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},t}(g.Animation),v=function(t,n){return null==t?n:t},y=function(a){function o(t){var y;(y=a.call(this)||this).onUpdate=function(){var t=Date.now();t>y._lastTime+64&&(t=y._lastTime+64);var n=(t-y._lastTime)/1e3;y._frameTime+=n;var e=y._damping,i=y._mass,r=y._stiffness,o=-y._initialVelocity,a=e/(2*Math.sqrt(r*i)),s=Math.sqrt(r/i),u=s*Math.sqrt(1-a*a),c=y._to-y._startPosition,l=0,f=0,_=y._frameTime;if(a<1){var h=Math.exp(-a*s*_);l=y._to-h*((o+a*s*c)/u*Math.sin(u*_)+c*Math.cos(u*_)),f=a*s*h*(Math.sin(u*_)*(o+a*s*c)/u+c*Math.cos(u*_))-h*(Math.cos(u*_)*(o+a*s*c)-u*c*Math.sin(u*_))}else{var d=Math.exp(-s*_);l=y._to-d*(c+(o+s*c)*_),f=d*(o*(_*s-1)+_*c*(s*s))}y._lastTime=t,y._lastPosition=l,y._lastVelocity=f;var p=!1;if(y._overshootClamping&&0!==y._stiffness&&(p=y._startPosition<y._to?l>y._to:l<y._to),y._onUpdate(p?y._to:l),y.__active){var m=Math.abs(f)<=y._restSpeedThreshold,v=!0;if(0!==y._stiffness&&(v=Math.abs(y._to-l)<=y._restDisplacementThreshold),p||m&&v)return 0!==y._stiffness&&(y._lastPosition=y._to,y._lastVelocity=0,y._onUpdate(y._to)),y.__debouncedOnEnd({finished:!0});y._animationFrame=g.Globals.requestFrame(y.onUpdate)}},y._overshootClamping=v(t.overshootClamping,!1),y._restDisplacementThreshold=v(t.restDisplacementThreshold,1e-4),y._restSpeedThreshold=v(t.restSpeedThreshold,1e-4),y._initialVelocity=v(t.velocity,0),y._lastVelocity=v(t.velocity,0),y._to=t.to;var n,e,i,r,o=(n=v(t.tension,40),e=v(t.friction,7),{stiffness:(r=n,3.62*(r-30)+194),damping:(i=e,3*(i-8)+25)});return y._stiffness=o.stiffness,y._damping=o.damping,y._mass=v(t.mass,1),y}i(o,a);var t=o.prototype;return t.start=function(t,n,e,i){if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=n,this.__onEnd=e,this._lastTime=Date.now(),this._frameTime=0,i instanceof o){var r=i.getInternalState();this._lastPosition=r.lastPosition,this._lastVelocity=r.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=r.lastTime}void 0!==this._initialVelocity&&null!==this._initialVelocity&&(this._lastVelocity=this._initialVelocity),this.onUpdate()},t.getInternalState=function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}},t.stop=function(){this.__active=!1,clearTimeout(this._timeout),g.Globals.cancelFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},o}(g.Animation);function T(){return(T=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}function b(t,n){if(null==t)return{};var e,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)e=o[i],0<=n.indexOf(e)||(r[e]=t[e]);return r}var M=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var e=n.prototype;return e.getValues=function(){return this.instance&&this.instance.getValues()},e.componentDidMount=function(){this.instance&&this.instance.flush()},e.componentDidUpdate=function(){this.instance&&this.instance.flush()},e.render=function(){var e=this,t=this.props,i=t.children,n=t.delay,r=void 0===n?0:n,o=t.ms,a=void 0===o?200:o,s=t.reverse,u=void 0!==s&&s,c=t.keys,l=t.onRest,f=b(t,["children","delay","ms","reverse","keys","onRest"]);return i.map(function(t,n){return _.createElement(g.Spring,T({ref:function(t){return 0===n&&(e.instance=t)},key:c[n]},f,{delay:r+(u?i.length-n:n)*a,onRest:n===(u?0:i.length-1)?l:null,children:t}))})},n}(_.Component),V=function(t,n){if(n=T({willChange:Object.keys(n).join(",")},n),g.animated[t.type]){var e=g.animated[t.type],i=T({},t.props,{style:T({},t.props.style,n)});return _.createElement(e,i)}return _.createElement(g.Globals.defaultElement,{style:T({},n),children:t})},P=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this.props,n=t.children,e=t.from,i=void 0===e?{opacity:0,transform:"translate3d(0,40px,0)"}:e,r=t.to,o=void 0===r?{opacity:1,transform:"translate3d(0,0px,0)"}:r,a=b(t,["children","from","to"]),s=_.Children.map(n,function(n){return function(t){return V(n,t)}});return _.createElement(g.Trail,T({native:!0},a,{keys:s.map(function(t,n){return n}),from:i,to:o,children:s}))},n}(_.PureComponent),O=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this.props,n=t.children,e=t.show,i=void 0===e||e,r=t.from,o=void 0===r?{opacity:0}:r,a=t.enter,s=void 0===a?{opacity:1}:a,u=t.leave,c=void 0===u?{opacity:0}:u,l=b(t,["children","show","from","enter","leave"]);return _.createElement(g.Transition,T({native:!0,keys:i.toString()},l,{from:o,enter:s,leave:c,children:i?function(t){return V(n,t)}:void 0}))},n}(_.PureComponent);t.TimingAnimation=m,t.OscillatorAnimation=y,t.Easing=n,t.Fade=O,t.Slug=P,t.DurationTrail=M,Object.defineProperty(t,"__esModule",{value:!0})});
