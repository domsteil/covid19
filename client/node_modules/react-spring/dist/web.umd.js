!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],e):e(t.ReactSpring={},t.React,t.ReactDOM)}(this,function(t,_,v){"use strict";function j(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}_=_&&_.hasOwnProperty("default")?_.default:_,v=v&&v.hasOwnProperty("default")?v.default:v;var e=void 0,i=void 0,S=[],w=function(t){return global.requestAnimationFrame(t)},r=function(t){return global.cancelAnimationFrame(t)},u=void 0,k=function(){return Date.now()},n=void 0,o=function(t,e){return i={fn:t,transform:e}},a=function(t){return S=t},s=function(t){return e=t},l=function(t){return u=t},c=function(t){return n=t},f=Object.freeze({get bugfixes(){return e},get applyAnimatedValues(){return i},get colorNames(){return S},get requestFrame(){return w},get cancelFrame(){return r},get interpolation(){return u},get now(){return k},get defaultElement(){return n},injectApplyAnimatedValues:o,injectColorNames:a,injectBugfixes:s,injectInterpolation:l,injectFrame:function(t,e){var n;return w=(n=[t,e])[0],r=n[1],n},injectNow:function(t){return k=t},injectDefaultElement:c}),p={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var d=function(t){return t},h=function(){function t(){}return t.create=function(t){if("function"==typeof t)return t;if(u&&t.output&&"string"==typeof t.output[0])return u(t);var n=t.output,r=t.range,i=t.easing||d,o="extend",a=t.map;void 0!==t.extrapolateLeft?o=t.extrapolateLeft:void 0!==t.extrapolate&&(o=t.extrapolate);var s="extend";return void 0!==t.extrapolateRight?s=t.extrapolateRight:void 0!==t.extrapolate&&(s=t.extrapolate),function(t){var e=function(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}(t,r);return function(t,e,n,r,i,o,a,s,u){var l=u?u(t):t;if(l<e){if("identity"===a)return l;"clamp"===a&&(l=e)}if(n<l){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(e===n)return t<=e?r:i;e===-1/0?l=-l:n===1/0?l-=e:l=(l-e)/(n-e);l=o(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(t,r[e],r[e+1],n[e],n[e+1],i,o,s,a)}},t}();var m="[-+]?\\d*\\.?\\d+",g=m+"%";function y(){return"\\(\\s*("+Array.prototype.slice.call(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var b=new RegExp("rgb"+y(m,m,m)),x=new RegExp("rgba"+y(m,m,m,m)),A=new RegExp("hsl"+y(m,g,g)),P=new RegExp("hsla"+y(m,g,g,m)),V=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,T=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,E=/^#([0-9a-fA-F]{6})$/,O=/^#([0-9a-fA-F]{8})$/;function F(t,e,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function R(t,e,n){var r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=F(i,r,t+1/3),a=F(i,r,t),s=F(i,r,t-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function D(t){var e=parseInt(t,10);return e<0?0:255<e?255:e}function M(t){return(parseFloat(t)%360+360)%360/360}function I(t){var e=parseFloat(t);return e<0?0:1<e?255:Math.round(255*e)}function U(t){var e=parseFloat(t);return e<0?0:100<e?1:e/100}function W(t){var e,n,r="number"==typeof(e=t)?e>>>0===e&&0<=e&&e<=4294967295?e:null:(n=E.exec(e))?parseInt(n[1]+"ff",16)>>>0:p.hasOwnProperty(e)?p[e]:(n=b.exec(e))?(D(n[1])<<24|D(n[2])<<16|D(n[3])<<8|255)>>>0:(n=x.exec(e))?(D(n[1])<<24|D(n[2])<<16|D(n[3])<<8|I(n[4]))>>>0:(n=V.exec(e))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=O.exec(e))?parseInt(n[1],16)>>>0:(n=T.exec(e))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=A.exec(e))?(255|R(M(n[1]),U(n[2]),U(n[3])))>>>0:(n=P.exec(e))?(R(M(n[1]),U(n[2]),U(n[3]))|I(n[4]))>>>0:null;return null===r?t:"rgba("+((4278190080&(r=r||0))>>>24)+", "+((16711680&r)>>>16)+", "+((65280&r)>>>8)+", "+(255&r)/255+")"}var L=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,z=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,q=new RegExp("("+Object.keys(p).join("|")+")","g");function N(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var G=function(){function t(){}var e=t.prototype;return e.__attach=function(){},e.__detach=function(){},e.__getValue=function(){},e.__getAnimatedValue=function(){return this.__getValue()},e.__addChild=function(t){},e.__removeChild=function(t){},e.__getChildren=function(){return[]},t}(),H=function(f){function t(t,e,n,r,i){var o,a,s,u,l,c;return(o=f.call(this)||this).update=(a=function(){o._value.animate(new o._animationClass(C({},o._animationConfig,{to:o._animationConfig.to.__getValue()})),o._callback)},s=1e3/30,u=null,l=0,c=function(){return a(l=Date.now(),u=null)},function(){var t=Date.now(),e=s-(t-l);e<=0||s<e?(u&&(clearTimeout(u),u=null),a(l=t)):u||(u=setTimeout(c,e))}),o._value=t,o._parent=e,o._animationClass=n,o._animationConfig=r,o._callback=i,o.__attach(),o}N(t,f);var e=t.prototype;return e.__getValue=function(){return this._parent.__getValue()},e.__attach=function(){this._parent.__addChild(this)},e.__detach=function(){this._parent.__removeChild(this)},t}(G);var $=function(e){function t(){var t;return(t=e.call(this)||this)._children=[],t}N(t,e);var n=t.prototype;return n.__addChild=function(t){0===this._children.length&&this.__attach(),this._children.push(t)},n.__removeChild=function(t){var e=this._children.indexOf(t);-1!==e?(this._children.splice(e,1),0===this._children.length&&this.__detach()):"production"!==process.env.NODE_ENV&&console.warn("Trying to remove a child that doesn't exist")},n.__getChildren=function(){return this._children},t}(G),B=function(r){function e(t,e){var n;return(n=r.call(this)||this)._parents=t._values?t._values:Array.isArray(t)?t:[t],n._interpolation=h.create(e),n}N(e,r);var t=e.prototype;return t.__getValue=function(){return this._interpolation.apply(this,this._parents.map(function(t){return t.__getValue()}))},t.__attach=function(){for(var t=0;t<this._parents.length;++t)this._parents[t]instanceof G&&this._parents[t].__addChild(this)},t.__detach=function(){for(var t=0;t<this._parents.length;++t)this._parents[t]instanceof G&&this._parents[t].__removeChild(this)},t.__update=function(t){return this._interpolation=h.create(t),this},t.interpolate=function(t){return new e(this,t)},e}($),K=0;var X=function(e){function t(t){var n;return(n=e.call(this)||this)._updateValue=function(t){for(var e in n._value=t,n._flush(),n._listeners)n._listeners[e]({value:t})},n._value=t,n._animation=null,n._animatedStyles=new Set,n._listeners={},n}N(t,e);var n=t.prototype;return n.__detach=function(){this.stopAnimation()},n.__getValue=function(){return this._value},n._update=function(){!function e(t,n){"function"==typeof t.update?n.add(t):t.__getChildren().forEach(function(t){return e(t,n)})}(this,this._animatedStyles)},n._flush=function(){0===this._animatedStyles.size&&this._update(),this._animatedStyles.forEach(function(t){return t.update()})},n.setValue=function(t){this._animation&&(this._animation.stop(),this._animation=null),this._animatedStyles.clear(),this._updateValue(t)},n.stopAnimation=function(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&t(this.__getValue())},n.interpolate=function(t){return new B(this,t)},n.animate=function(t,e){var n=this,r=this._animation;this._animation&&this._animation.stop(),this._animation=t,this._animatedStyles.clear(),t.start(this._value,this._updateValue,function(t){n._animation=null,e&&e(t)},r)},n.addListener=function(t){var e=String(K++);return this._listeners[e]=t,e},n.removeListener=function(t){delete this._listeners[t]},n.removeAllListeners=function(){this._listeners={}},n.stopTracking=function(){this._tracking&&this._tracking.__detach(),this._tracking=null},n.track=function(t){this.stopTracking(),this._tracking=t},t}($);function Y(t,e){for(var n in t)if(!(n in e))return!1;for(var r in e)if(t[r]!==e[r])return!1;return!0}function Z(t,e){for(var n=arguments.length,r=new Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"function"==typeof t?t.apply(void 0,[e].concat(r)):t}function J(e){return Object.keys(e).map(function(t){return e[t]})}function Q(t){t.to,t.from,t.config,t.native,t.onRest,t.onFrame,t.children,t.render,t.reset,t.reverse,t.force,t.immediate,t.impl,t.inject,t.delay,t.attach,t.destroyed;return j(t,["to","from","config","native","onRest","onFrame","children","render","reset","reverse","force","immediate","impl","inject","delay","attach","destroyed"])}function tt(t,e){var n=C({},e,Q(t));return t.render?t.render(C({},n,{children:t.children})):t.children(n)}function et(t,e){var n,r=e[0],i=e[1];return C({},t,((n={})[r]=new X(i),n))}function nt(t){var e=t.from,n=t.to,r=t.native,i=Object.entries(C({},e,n));return r?i.reduce(et,{}):C({},e,n)}var rt=function(t){return"auto"===t};var it={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ot=["Webkit","Ms","Moz","O"];it=Object.keys(it).reduce(function(r,i){return ot.forEach(function(t){return r[(e=t,n=i,e+n.charAt(0).toUpperCase()+n.substring(1))]=r[i];var e,n}),r},it),c("div"),l(function(n){var r=n.output.map(function(t){return t.replace(z,W)}).map(function(t){return t.replace(q,W)}),i=r[0].match(L).map(function(){return[]});r.forEach(function(t){t.match(L).forEach(function(t,e){return i[e].push(+t)})});var o=r[0].match(L).map(function(t,e){return h.create(C({},n,{output:i[e]}))});return/^rgb/.test(r[0]),function(t){var e=0;return r[0].replace(L,function(){return o[e++](t)}).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,function(t,e,n,r,i){return"rgba("+Math.round(e)+", "+Math.round(n)+", "+Math.round(r)+", "+i+")"})}}),a(p),s(function(p,d){var h=p.from,m=p.to;if(J(m).some(rt)||J(h).some(rt)){var t=tt(p,nt(p));if(t){var e=t.props.style;return _.createElement(t.type,C({key:t.key},t.props,{style:C({},e,{position:"absolute",visibility:"hidden"}),ref:function(t){if(t){var e,n,r=v.findDOMNode(t),i=getComputedStyle(r);if("border-box"===i.boxSizing)e=r.offsetWidth,n=r.offsetHeight;else{var o=parseFloat(i.paddingLeft||0)+parseFloat(i.paddingRight||0),a=parseFloat(i.paddingTop||0)+parseFloat(i.paddingBottom||0),s=parseFloat(i.borderLeftWidth||0)+parseFloat(i.borderRightWidth||0),u=parseFloat(i.borderTopWidth||0)+parseFloat(i.borderBottomWidth||0);e=r.offsetWidth-o-s,n=r.offsetHeight-a-u}var l=(c=e,f=n,function(t,e){var n,r=e[0],i=e[1];return C({},t,((n={})[r]="auto"===i?~r.indexOf("height")?f:c:i,n))});d(C({},p,{from:Object.entries(h).reduce(l,h),to:Object.entries(m).reduce(l,m)}))}var c,f}}))}}}),o(function(t,e){if(!t.nodeType||void 0===t.setAttribute)return!1;var n,r,i,o=e.style,a=e.children,s=e.scrollTop,u=e.scrollLeft,l=j(e,["style","children","scrollTop","scrollLeft"]);for(var c in s&&(t.scrollTop=s),u&&(t.scrollLeft=u),a&&(t.textContent=a),o)if(o.hasOwnProperty(c)){var f=0===c.indexOf("--"),p=(r=o[n=c],i=f,null==r||"boolean"==typeof r||""===r?"":i||"number"!=typeof r||0===r||it.hasOwnProperty(n)&&it[n]?(""+r).trim():r+"px");"float"===c&&(c="cssFloat"),f?t.style.setProperty(c,p):t.style[c]=p}for(var d in l){var h=d.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()});void 0!==t.getAttribute(h)&&t.setAttribute(h,l[d])}},function(t){return t});var at=function(){function t(){}var e=t.prototype;return e.start=function(t,e,n,r){},e.stop=function(){},e.__debouncedOnEnd=function(t){var e=this.__onEnd;this.__onEnd=null,e&&e(t)},t}(),st=function(t,e){return null==t?e:t},ut=function(a){function s(t){var b;(b=a.call(this)||this).startAsync=function(){if(b._lastTime=k(),"string"==typeof b._startPosition||"string"==typeof b._to)return b._onUpdate(b._to),b.__debouncedOnEnd({finished:!0});if(b.__previous instanceof s){var t=b.__previous.getInternalState();b._lastPosition=t.lastPosition,b._lastVelocity=t.lastVelocity,b._lastTime=t.lastTime}void 0!==b._initialVelocity&&null!==b._initialVelocity&&(b._lastVelocity=b._initialVelocity),b.onUpdate()},b.onUpdate=function(){var t=b._lastPosition,e=b._lastVelocity,n=b._lastPosition,r=b._lastVelocity,i=k();i>b._lastTime+64&&(i=b._lastTime+64);for(var o=Math.floor((i-b._lastTime)/1),a=0;a<o;++a){var s=.001,u=e,l=b._tension*(b._to-n)-b._friction*r;n=t+u*s/2;var c=r=e+l*s/2,f=b._tension*(b._to-n)-b._friction*r;n=t+c*s/2;var p=r=e+f*s/2,d=b._tension*(b._to-n)-b._friction*r;n=t+p*s/2;var h=r=e+d*s/2,m=b._tension*(b._to-n)-b._friction*r;n=t+p*s/2,r=e+d*s/2,t+=(u+2*(c+p)+h)/6*s,e+=(l+2*(f+d)+m)/6*s}b._lastTime=i,b._lastPosition=t,b._lastVelocity=e;var _=!(!b._overshootClamping||0===b._tension)&&(b._startPosition<b._to?t>b._to:t<b._to),v=Math.abs(e)<=b._restSpeedThreshold,g=0===b._tension||Math.abs(b._to-t)<=b._restDisplacementThreshold,y=_||v&&g;if(b.__active){if(y)return 0!==b._tension&&b._onUpdate(b._to),b.__debouncedOnEnd({finished:!0});b._onUpdate(t),b._animationFrame=w(b.onUpdate)}},b._overshootClamping=st(t.overshootClamping,!1),b._restDisplacementThreshold=st(t.restDisplacementThreshold,1e-4),b._restSpeedThreshold=st(t.restSpeedThreshold,1e-4),b._initialVelocity=t.velocity,b._lastVelocity=st(t.velocity,0),b._to=t.to;var e,n,r,i,o=(e=st(t.tension,40),n=st(t.friction,7),{tension:(i=e,3.62*(i-30)+194),friction:(r=n,3*(r-8)+25)});return b._tension=o.tension,b._friction=o.friction,b._delay=st(t.delay,0),b}N(s,a);var t=s.prototype;return t.start=function(t,e,n,r){this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=e,this.__onEnd=n,this.__previous=r,0<this._delay?(this._timer&&(clearTimeout(this._timer),this._timer=void 0),this._timer=setTimeout(this.startAsync,this._delay)):this.startAsync()},t.getInternalState=function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}},t.stop=function(){this.__active=!1,clearTimeout(this._timeout),this._timeout=void 0,r(this._animationFrame),this.__debouncedOnEnd({finished:!1})},s}(at),lt=function(n){function t(t){var e;return(e=n.call(this)||this)._values=t.map(function(t){return new X(t)}),e}N(t,n);var e=t.prototype;return e.setValue=function(t){var n=this;t.forEach(function(t,e){return n._values[e].setValue(t)})},e.__getValue=function(){return this._values.map(function(t){return t.__getValue()})},e.stopAnimation=function(t){this._values.forEach(function(t){return t.stopAnimation()}),t&&t(this.__getValue())},e.__attach=function(){for(var t=0;t<this._values.length;++t)this._values[t]instanceof G&&this._values[t].__addChild(this)},e.__detach=function(){for(var t=0;t<this._values.length;++t)this._values[t]instanceof G&&this._values[t].__removeChild(this)},t}($);function ct(r,i,o){return void 0===o&&(o=ut),t=r,n=ct,a=o,d=(e=i).to,h=j(e,["to"]),(t instanceof lt?(s=t._values.map(function(t,e){return n(t,C({},h,{to:d[e]}),a)}),l=0,u={stopTogether:(c={},!1)},f=!(!1===u.stopTogether),p={start:function(r){if(l===s.length)return r&&r({finished:!0});s.forEach(function(t,e){var n=function(t){if(c[e]=!0,++l===s.length)return l=0,r&&r(t);!t.finished&&f&&p.stop()};t?t.start(n):n({finished:!0})})},stop:function(){s.forEach(function(t,e){!c[e]&&t.stop(),c[e]=!0})}}):null)||{start:function(t){var e=r,n=i;e.stopTracking(),i.to instanceof G?e.track(new H(e,i.to,o,n,t)):e.animate(new o(n),t)},stop:function(){r.stopAnimation()}};var t,e,n,a,s,u,l,c,f,p,d,h}var ft=function(n){function t(t){var e;return e=n.call(this)||this,!(t=t||{}).transform||t.transform instanceof G||(t=i.transform(t)),e._style=t,e}N(t,n);var e=t.prototype;return e.__getValue=function(){var t={};for(var e in this._style){var n=this._style[e];t[e]=n instanceof G?n.__getValue():n}return t},e.__getAnimatedValue=function(){var t={};for(var e in this._style){var n=this._style[e];n instanceof G&&(t[e]=n.__getAnimatedValue())}return t},e.__attach=function(){for(var t in this._style){var e=this._style[t];e instanceof G&&e.__addChild(this)}},e.__detach=function(){for(var t in this._style){var e=this._style[t];e instanceof G&&e.__removeChild(this)}},t}($),pt=function(r){function t(t,e){var n;return n=r.call(this)||this,t.style&&(t=C({},t,{style:new ft(t.style)})),n._props=t,n._callback=e,n.__attach(),n}N(t,r);var e=t.prototype;return e.__getValue=function(){var t={};for(var e in this._props){var n=this._props[e];t[e]=n instanceof G?n.__getValue():n}return t},e.__getAnimatedValue=function(){var t={};for(var e in this._props){var n=this._props[e];n instanceof G&&(t[e]=n.__getAnimatedValue())}return t},e.__attach=function(){for(var t in this._props){var e=this._props[t];e instanceof G&&e.__addChild(this)}},e.__detach=function(){for(var t in this._props){var e=this._props[t];e instanceof G&&e.__removeChild(this)}},e.update=function(){this._callback()},t}(G);function dt(r){var n=function(t){function e(){return t.apply(this,arguments)||this}N(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this._propsAnimated&&this._propsAnimated.__detach()},n.setNativeProps=function(t){!1===i.fn(this.node,t,this)&&this.forceUpdate()},n.componentWillMount=function(){this.attachProps(this.props)},n.attachProps=function(t){var e=this,n=(t.forwardRef,j(t,["forwardRef"])),r=this._propsAnimated;this._propsAnimated=new pt(n,function(){e.node&&!1===i.fn(e.node,e._propsAnimated.__getAnimatedValue(),e)&&e.forceUpdate()}),r&&r.__detach()},n.componentWillReceiveProps=function(t){this.attachProps(t)},n.render=function(){var n=this,t=(this.props.forwardRef,this._propsAnimated.__getValue()),e=(t.scrollTop,t.scrollLeft,j(t,["scrollTop","scrollLeft"]));return _.createElement(r,C({},e,{ref:function(t){n.node=t;var e=n.props.forwardRef;e&&("function"==typeof e?e(t):"object"==typeof e&&(e.current=t))}}))},e}(_.Component);return _.forwardRef(function(t,e){return _.createElement(n,C({},t,{forwardRef:e}))})}var ht={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},mt=_.version.split(".");"production"!==process.env.NODE_ENV&&(mt[0]<16||mt[1]<4)&&console.warn("Please consider upgrading to react/react-dom 16.4.x or higher! Older React versions break getDerivedStateFromProps, see https://github.com/facebook/react/issues/12898");var _t=function(r){function t(){for(var s,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(s=r.call.apply(r,[this].concat(e))||this).state={lastProps:{from:{},to:{}},propsChanged:!1,internal:!1},s.didUpdate=!1,s.didInject=!1,s.updating=!1,s.animations={},s.interpolators={},s.mergedProps={},s.start=function(){var t=s.props,i=t.config,o=t.delay,a=t.impl;s.props.onStart&&s.props.onStart(),Object.keys(s.animations).forEach(function(e){var t=s.animations[e],n=t.animation,r=t.toValue;if(!r.__getValue&&n.__getValue()===r)return s.finishAnimation(e);ct(n,C({to:r,delay:o},Z(i,e)),a).start(!r.__getValue&&function(t){return t.finished&&s.finishAnimation(e)})})},s.stop=function(){return J(s.animations).forEach(function(t){return t.animation.stopAnimation()})},s.finishAnimation=function(t){var e=s.animations[t];e.animation,e.toValue;if(s.animations[t].stopped=!0,s.mounted&&J(s.animations).every(function(t){return t.stopped})){var n=C({},s.props.from,s.props.to);s.props.onRest&&s.props.onRest(n),s.didInject&&(s.afterInject=nt(s.props),s.didInject=!1,s.setState({internal:!0}))}},s}N(t,r);var e=t.prototype;return e.componentDidMount=function(){this.componentDidUpdate(),this.mounted=!0},e.componentWillUnmount=function(){this.mounted=!1,this.stop()},t.getDerivedStateFromProps=function(t,e){var n=e.internal,r=e.lastProps,i=t.from,o=t.to,a=t.reset,s=t.force;return{propsChanged:!Y(o,r.to)||!Y(i,r.from)||a&&!n||s&&!n,lastProps:t,internal:!1}},e.render=function(){var e=this,t=this.state.propsChanged;if(this.props.inject&&t&&!this.injectProps){var n=this.props.inject(this.props,function(t){e.injectProps=t,e.setState({internal:!0})});if(n)return n}this.injectProps?(this.updateAnimations(this.injectProps),this.injectProps=void 0,this.didInject=!0):t&&this.updateAnimations(this.props);var r=this.getAnimatedValues();return r&&Object.keys(r).length?tt(this.props,C({},r,this.afterInject)):null},e.componentDidUpdate=function(){this.didUpdate&&this.start(),this.didUpdate=!1},e.updateAnimations=function(t){var b=this,w=t.from,e=t.to,n=t.reverse,r=t.attach,k=t.reset,x=t.immediate,i=t.onFrame,o=t.native;if(this.updating=!0,n){var a=[e,w];w=a[0],e=a[1]}var A=r&&r(this),P=!1;this.mergedProps=C({},w,this.mergedProps,e);var s=Object.entries(this.mergedProps);if(this.animations=s.reduce(function(t,e,n){var r,i,o=e[0],a=e[1],s=!1===k&&t[o]||{stopped:!0},u="number"==typeof a,l="string"==typeof a&&!a.startsWith("#")&&!/\d/.test(a)&&!S[a],c=!u&&!l&&Array.isArray(a),f=void 0!==w[o]?w[o]:a,p=f instanceof X,d=u||c?a:l?a:1;if(A){var h=A.animations[o];h&&(d=h.animation)}var m,_,v=s.animation;if(p)m=_=f;else if(u||l)m=_=s.animation||new X(f);else if(c)m=_=s.animation||new lt(f);else{var g=s.interpolation&&s.interpolation._interpolation(s.animation._value);s.animation?(m=s.animation).setValue(0):m=new X(0);var y={range:[0,1],output:[void 0!==g?g:f,a]};_=s.interpolation?s.interpolation.__update(y):m.interpolate(y)}return v!==m&&(P=!0),Z(x,o)&&m.setValue(d),b.interpolators=C({},b.interpolators,((r={})[o]=_,r)),C({},t,((i={})[o]=C({},s,{name:o,animation:m,interpolation:_,toValue:d,stopped:!1}),i))},this.animations),P){var u=this.animatedProps;this.animatedProps=new pt(this.interpolators,function(){i&&i(b.animatedProps.__getValue()),o||b.updating||b.setState({internal:!0})}),u&&u.__detach()}this.didUpdate=!0,this.afterInject=void 0,this.didInject=!1,this.updating=!1},e.flush=function(){J(this.animations).forEach(function(t){var e=t.animation;return e._update&&e._update()})},e.getValues=function(){return this.animatedProps?this.animatedProps.__getValue():{}},e.getAnimatedValues=function(){return this.props.native?this.interpolators:this.getValues()},t}(_.Component);_t.defaultProps={from:{},to:{},config:ht.default,native:!1,immediate:!1,reset:!1,force:!1,impl:ut,inject:e};var vt=function(){return null},gt=function(t){var e=t.keys,n=t.children,r=t.render,i=t.items,o=j(t,["keys","children","render","items"]);return n=r||n||vt,e="function"==typeof e?i.map(e):e,Array.isArray(n)||(n=[n],e=void 0!==e?[e]:n.map(function(t){return t.toString()})),C({keys:e=e.map(function(t){return String(t)}),children:n,items:i},o)},yt=0,bt=function(e){N(n,e);var t=n.prototype;function n(t){var a;return(a=e.call(this,t)||this).destroyItem=function(i,o){return function(t){var e=a.props,n=e.onRest,r=e.onDestroyed;a.mounted&&(r&&r(i),a.setState(function(t){return{deleted:t.deleted.filter(function(t){return t.key!==o})}},function(){return delete a.springs[o]}),n&&n(i,t))}},a.springs={},a.state={first:!0,transitions:[],current:{},deleted:[],prevProps:t},a}return t.componentDidMount=function(){this.mounted=!0},t.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,e){var r=e.first,n=e.prevProps,i=j(e,["first","prevProps"]),o=gt(t),a=o.keys,s=o.children,u=o.items,l=o.initial,c=o.from,f=o.enter,p=o.leave,d=o.update,h=o.delay,m=void 0===h?0:h,_=o.config,v=gt(n),g=v.keys,y=v.items,b=C({},i.current),w=i.deleted.concat(),k=Object.keys(b),x=new Set(k),A=new Set(a),P=a.filter(function(t){return!x.has(t)}),S=k.filter(function(t){return!A.has(t)}),V=a.filter(function(t){return x.has(t)}),T=0;P.forEach(function(t){var e=a.indexOf(t),n=u?u[e]:t;b[t]={originalKey:t,key:yt++,item:n,delay:T+=m,children:s[e],config:Z(_,n,"enter"),from:C({},Z(r&&void 0!==l?l:c,n)),to:Z(f,n)}}),S.forEach(function(t){var e=g.indexOf(t),n=y?y[e]:t;w.push(C({},b[t],{destroyed:!0,lastSibling:g[Math.max(0,e-1)],delay:T+=m,config:Z(_,n,"leave"),to:C({},b[t].to,Z(p,n))})),delete b[t]}),V.forEach(function(t){var e=a.indexOf(t),n=u?u[e]:t;b[t]=C({},b[t],{delay:T+=m,children:s[e],config:Z(_,n,"update"),to:C({},b[t].to,Z(d,n))})});var E=a.map(function(t){return b[t]});return w.forEach(function(t){var e=t.lastSibling,n=j(t,["lastSibling"]),r=Math.max(0,E.findIndex(function(t){return t.originalKey===e})+1);E=E.slice(0,r).concat([n],E.slice(r))}),{first:r&&0===P.length,transitions:E,current:b,deleted:w,prevProps:t}},t.getValues=function(){},t.render=function(){var c=this,t=this.props,f=t.render,p=(t.initial,t.from,t.enter,t.leave,t.onDestroyed,t.keys,t.items,t.onFrame),d=t.onRest,h=(t.delay,t.config,j(t,["render","initial","from","enter","leave","onDestroyed","keys","items","onFrame","onRest","delay","config"]));return this.state.transitions.map(function(t,e){var n=t.key,r=t.item,i=t.children,o=t.from,a=t.to,s=t.delay,u=t.config,l=t.destroyed;return _.createElement(_t,C({ref:function(t){return t&&(c.springs[n]=t.getValues())},key:n,onRest:l?c.destroyItem(r,n):d&&function(t){return d(r,t)},onFrame:p&&function(t){return p(r,t)},delay:s,config:u},h,{from:l&&c.springs[n]||o,to:a,render:f&&i,children:f?c.props.children:i}))})},n}(_.PureComponent),wt=function(t){function e(){return t.apply(this,arguments)||this}N(e,t);var n=e.prototype;return n.getValues=function(){return this.instance&&this.instance.getValues()},n.componentDidMount=function(){this.instance&&this.instance.flush()},n.componentDidUpdate=function(){this.instance&&this.instance.flush()},n.render=function(){var n=this,t=this.props,i=t.children,o=t.render,e=t.from,r=void 0===e?{}:e,a=t.to,s=void 0===a?{}:a,u=t.native,l=void 0!==u&&u,c=t.keys,f=t.delay,p=t.onRest,d=j(t,["children","render","from","to","native","keys","delay","onRest"]),h=new Set,m=C({},d,{native:l,from:r,to:s});return(o||i).map(function(t,r){var e=0===r&&f;return _.createElement(_t,C({ref:function(t){return 0===r&&(n.instance=t)},onRest:0===r?p:null,key:c[r]},m,{delay:e||void 0,attach:function(t){return e=r,n=t,h.add(n),0===e?void 0:Array.from(h)[e-1];var e,n},render:o&&t,children:o?i:t}))})},e}(_.PureComponent),kt="__default",xt=function(i){function t(){for(var r,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(r=i.call.apply(i,[this].concat(e))||this).guid=0,r.state={props:{},oldProps:{},resolve:function(){return null}},r.next=function(n){return r.running=!0,new Promise(function(e){r.mounted&&r.setState(function(t){return{props:n,oldProps:C({},r.state.props),resolve:e}},function(){return r.running=!1})})},r}N(t,i);var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.componentDidUpdate({})},e.componentWillUnmount=function(){this.mounted=!1},e.componentDidUpdate=function(t){var e,u,l,c,f=this;(t.state!==this.props.state||this.props.reset&&!this.running)&&(e=f.props,u=e.states,l=e.filter,c=e.state,u&&c&&function(){var e=++f.guid,t=u[c];if(t)if(Array.isArray(t)){var n=Promise.resolve(),r=function(){if(o){if(a>=i.length)return"break";s=i[a++]}else{if((a=i.next()).done)return"break";s=a.value}var t=s;n=n.then(function(){return e===f.guid&&f.next(l(t))})},i=t,o=Array.isArray(i),a=0;for(i=o?i:i[Symbol.iterator]();;){var s;if("break"===r())break}}else"function"==typeof t?t(function(t){return e===f.guid&&f.next(l(t))},f.props):f.next(l(u[c]))}())},e.render=function(){var e=this,t=this.state,n=t.props,r=t.oldProps,i=t.resolve;if(!n||0===Object.keys(n).length)return null;var o=this.props,a=(o.state,o.filter,o.states,o.primitive),s=o.from,u=o.onRest,l=j(o,["state","filter","states","primitive","from","onRest"]),c=this.instance&&this.instance.getValues(),f="function"==typeof n.from?n.from:C({},r.from,c,n.from);return _.createElement(a,C({ref:function(t){return e.instance=t}},l,n,{from:C({},f,s),onRest:function(t){i(t),u&&u(t)}}))},t}(_.PureComponent);xt.defaultProps={state:kt},xt.create=function(r){return function(e,n){var t;return void 0===n&&(n=function(t){return t}),("function"==typeof e||Array.isArray(e))&&((t={})[kt]=e,e=t),function(t){return _.createElement(xt,C({primitive:r,states:e,filter:n},t))}}};var At=function(r){var i=Q(r),t=Object.keys(r).reduce(function(t,e){var n;return void 0!==i[e]?t:C({},t,((n={})[e]=r[e],n))},{});return C({to:i},t)};xt.Spring=xt.create(_t),xt.Spring.to=function(t){return xt.Spring(t,At)},xt.Trail=xt.create(wt),xt.Trail.to=function(t){return xt.Trail(t,At)},xt.Transition=xt.create(bt);var Pt=dt("div"),St=_.createContext(null),Vt=St.Provider,Tt=St.Consumer;function Et(t){return t?"scrollLeft":"scrollTop"}var jt="translate3d(0px,0px,0px)",Ct="translate(0px,0px)",Ot=function(t){function e(){return t.apply(this,arguments)||this}N(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.parent;t&&(t.layers=t.layers.concat(this),t.update())},n.componentWillUnmount=function(){var e=this,t=this.parent;t&&(t.layers=t.layers.filter(function(t){return t!==e}),t.update())},n.setPosition=function(t,e,n){void 0===n&&(n=!1);var r=this.parent.props,i=r.config,o=r.impl,a=Math.floor(this.props.offset)*t,s=t*this.props.offset+a*this.props.speed,u=parseFloat(-e*this.props.speed+s);n?this.animatedTranslate.setValue(u):ct(this.animatedTranslate,C({to:u},i),o).start()},n.setHeight=function(t,e){void 0===e&&(e=!1);var n=this.parent.props,r=n.config,i=n.impl,o=parseFloat(t*this.props.factor);e?this.animatedSpace.setValue(o):ct(this.animatedSpace,C({to:o},r),i).start()},n.initialize=function(){var t=this.props,e=this.parent,n=Math.floor(t.offset)*e.space,r=e.space*t.offset+n*t.speed,i=parseFloat(-e.current*t.speed+r);this.animatedTranslate=new X(i),this.animatedSpace=new X(e.space*t.factor)},n.renderLayer=function(){var t,e=this.props,n=e.style,r=e.children,i=(e.offset,e.speed,e.factor,e.className),o=j(e,["style","children","offset","speed","factor","className"]),a=this.parent.props.horizontal,s=this.animatedTranslate.interpolate({range:[0,1],output:a?[jt,"translate3d(1px,0,0)"]:[jt,"translate3d(0,1px,0)"]});return _.createElement(Pt,C({},o,{className:i,style:C((t={position:"absolute",backgroundSize:"auto",backgroundRepeat:"no-repeat",willChange:"transform"},t[a?"height":"width"]="100%",t[a?"width":"height"]=this.animatedSpace,t.WebkitTransform=s,t.MsTransform=s,t.transform=s,t),n)}),r)},n.render=function(){var e=this;return _.createElement(Tt,null,function(t){return t&&!e.parent&&(e.parent=t,e.initialize()),e.renderLayer()})},e}(_.PureComponent);Ot.defaultProps={factor:1,offset:0,speed:0};var Ft=function(r){function t(){for(var i,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(i=r.call.apply(r,[this].concat(e))||this).state={ready:!1},i.layers=[],i.space=0,i.current=0,i.offset=0,i.busy=!1,i.moveItems=function(){i.layers.forEach(function(t){return t.setPosition(i.space,i.current)}),i.busy=!1},i.scrollerRaf=function(){return requestAnimationFrame(i.moveItems)},i.onScroll=function(t){var e=i.props.horizontal;i.busy||(i.busy=!0,i.scrollerRaf(),i.current=t.target[Et(e)])},i.update=function(){var t=i.props,e=t.scrolling,n=t.horizontal,r=Et(n);i.container&&(i.space=i.container[n?"clientWidth":"clientHeight"],e?i.current=i.container[r]:i.container[r]=i.current=i.offset*i.space,i.content&&(i.content.style[n?"width":"height"]=i.space*i.props.pages+"px"),i.layers.forEach(function(t){t.setHeight(i.space,!0),t.setPosition(i.space,i.current,!0)}))},i.updateRaf=function(){requestAnimationFrame(i.update),setTimeout(i.update,150)},i.scrollStop=function(t){return i.animatedScroll&&i.animatedScroll.stopAnimation()},i}N(t,r);var e=t.prototype;return e.scrollTo=function(t){var e=this.props,n=e.horizontal,r=e.config,i=e.impl,o=Et(n);this.scrollStop(),this.offset=t;var a=this.container;this.animatedScroll=new X(a[o]),this.animatedScroll.addListener(function(t){var e=t.value;return a[o]=e}),ct(this.animatedScroll,C({to:t*this.space},r),i).start()},e.componentDidMount=function(){window.addEventListener("resize",this.updateRaf,!1),this.update(),this.setState({ready:!0})},e.componentWillUnmount=function(){window.removeEventListener("resize",this.updateRaf,!1)},e.componentDidUpdate=function(){this.update()},e.render=function(){var t,e=this,n=this.props,r=n.style,i=n.innerStyle,o=n.pages,a=n.className,s=n.scrolling,u=n.children,l=n.horizontal,c=s?"scroll":"hidden";return _.createElement("div",{ref:function(t){return e.container=t},onScroll:this.onScroll,onWheel:s?this.scrollStop:null,onTouchStart:s?this.scrollStop:null,style:C({position:"absolute",width:"100%",height:"100%",overflow:c,overflowY:l?"hidden":c,overflowX:l?c:"hidden",WebkitOverflowScrolling:"touch",WebkitTransform:Ct,MsTransform:Ct,transform:jt},r),className:a},this.state.ready&&_.createElement("div",{ref:function(t){return e.content=t},style:C((t={position:"absolute"},t[l?"height":"width"]="100%",t.WebkitTransform=Ct,t.MsTransform=Ct,t.transform=jt,t.overflow="hidden",t[l?"width":"height"]=this.space*o,t),i)},_.createElement(Vt,{value:this},u)))},t}(_.PureComponent);Ft.Layer=Ot,Ft.defaultProps={config:ht.slow,scrolling:!0,horizontal:!1,impl:ut};var Rt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce(function(t,e){return t[e]=dt(e),t},dt);t.Spring=_t,t.Keyframes=xt,t.Transition=bt,t.Trail=wt,t.Parallax=Ft,t.ParallaxLayer=Ot,t.Animation=at,t.SpringAnimation=ut,t.AnimatedValue=X,t.config=ht,t.animated=Rt,t.controller=ct,t.interpolate=function(t,e){return new B(t,e)},t.Globals=f,Object.defineProperty(t,"__esModule",{value:!0})});
